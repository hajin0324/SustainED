<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>ESG</title>
    <style>
      *{
          margin: 0;
          padding: 0;
          font-family: sans-serif;
      }
      h1 {
          margin-bottom: 10px;
          font-size: 50px;
          font-family: "Oswald", sans-serif;
          font-weight: 500px;
          line-height: 1.2;
      }

      h6 {
          margin-left: 62px;
      }

      header {
          width: 100vw;
          display: block;
          background-color: white;
          position: relative;
      }

      nav {
          display: block;
      }

      a {
        color: #FFAA17;
        text-decoration: none;
        background-color: transparent;
      }

      a:hover {
          color: #ca8000;
      }

      body{
        font-family: "Oswald", sans-serif;
        background: #fff;
      }

      .des {
          position: relative;
          display: flex;
          flex-wrap: wrap;
          align-items: center;
          justify-content: space-between;
          padding: 0.5rem 1rem;
          background-color: white;
      }
      .name {
          font-size: 40px;
          font-weight: 300px;
          text-transform: uppercase;
          display: inline-block;
          padding-top: 28px;
          padding-bottom: 10px;
          margin-left: 20px;
          margin-right: 20px;
          line-height: inherit;
          color: black;
      }
      .name:hover {
          color: black;
      }
      .menu-wrap {
          font-family: 'Oswald';
          font-weight: 400;
          text-transform: uppercase;
          padding: 45px 15px;
          margin-left: auto;
          align-items: center;
          display: flex;
          flex-basis: auto;
      }
      .menu {
          margin-right: 6vw;
          text-align: center;
          flex-grow: 1;
          font-family: "Rubik", sans-serif;
      }
      .menu:hover {
          color: #ca8000;
      }
      
      .university {
          height: 140px;
          padding-left: 20px;
          padding-top: 68px;
          margin-bottom: 30px;
          font-size: 60px;
          font-weight: 400px;
          text-align: center;
          background-color: #FFAA17;
      }

      /* The Imapct Ranking */
      #impact {
        padding-left: 10px;
        padding-right: 10px;
        font-size: 30px;
        font-family: Arial;
        position: absolute;
        top: 395px;
        left: 300px;
        background-color: white;
      }
      #ranking {
        border: 1px solid black;
        font-size: 20px;
        height: 320px;
        width: 600px;
        margin-top: 80px;
        margin-left: 280px;
      }
      #content {
        display: flex;
      }
      #content1 {
        width: 280px;
        padding-top: 100px;
      }
      #year {
        font-size: 28px;
        padding-top: 80px;
        padding-left: 48px;
        margin-right: 50px;
      }
      #score {
        text-align: center;
        font-size: 48px;
        margin-top: 30px;
        margin-left: 88px;
      }
      #graph {
        width: 58%;
        height: 280px; 
      }
      #myGraph {
        padding-left: 40px;
        padding-top: 20px;
        width: 300px;
        height: 280px;
      }

      /* 파이차트 */
      #piechart {
        position: absolute;
        top: 340px;
        left: 940px;
        text-align: center;
      }
      .pie-inside {
        font-size: 25px;
        font-weight: bold;
        fill: white;
      }
      .pielabel {
        font-size: 20px;
        font-weight: bold;
        line-height: 2px;
      }
      /* 키워드 차트 */
      #keyword-compare {
        text-align: center;
        flex-wrap: wrap;
        width: 100vx;
        height: 140px;
        display:flex;
        padding-top: 120px;
        margin-bottom: 80px;
      }
      .keyword {
        padding-top: 40px;
        margin-bottom: 28px;
      }
      .key-graph {
        box-sizing: border-box;
        width: 380px;
        height: 180px;  
        background-color: #FFAA17;
        border-right: 1px dotted black;
      }
      #text{
        font-size: 20px;
        display:flex;
        margin-left: 30px;
        margin-right: 30px;
      }
      .last {
        margin-left: 30px;
      }
      .active {
        border: 1px solid black;
        width: 800px;
        font-size: 20px;
        text-align: center;
        padding-top: 20px;
      }

      #svg1{
        padding-left: 30px;
        margin: -10px 60px; 
      }
      #svg2{ 
        padding-left: 30px;
        margin: -10px 60px; 
      }
      #svg3{ 
        padding-left: 30px;
        margin: -10px 60px;  
      }
      #svg4{ 
        padding-left: 30px;
        margin: -10px 60px; 
      }
      #svg5{ 
        padding-left: 30px;
        margin: -10px 60px; 
      }
      .white { fill: #fff; }
      .orange { fill: rgb(255, 129, 4)}


      /* 키워드 그래프 */
      .last svg{
        width: 480px;
        height: 280px;
      }
      #myGraph1 {
        padding-top: 20px;
        padding-left: 30px;

      }
      #myGraph2 {
        padding-top: 20px;
        padding-left: 30px;
      }
      .bar {
        fill: #FFAA17;
/*         opacity: 0.8; */
      }
      
      .barNum {
        font-size: 9pt;
        text-anchor: middle;
      }
      .axis text {
        font-family: sans-serif;
        font-size: 11px;
      }
      .axis path,
      .axis line {
        fill: none;
        stroke: black;
      }
      .axis_x line {
        fill: none;
        stroke: black;
      }
      .barName {
        font-size: 9pt;
        /* text-anchor: middle; */
      }

      
    </style>
  </head>
  <body>
    <header>
      <nav class="des">
        <a href="index.html"><h1 class="name">SUSTAINED</h1></a>
        <div class="menu-wrap">
          <p class="menu"><a href="about.html">ABOUT SDGS</a></p>
          <p class="menu"><a href="17Goals.html">OUR 17 GOALS</a></p>
          <p class="menu"><a href="5p.html">WHAT IS 5P</a></p>
          <p class="menu"><a href="related.html">RELATED SITES</a></p>
        </div>
      </nav>
    </header>

    <h2 class="university">경북대학교 SDGs 분석 결과</h2>
    <section>
      <p id="impact">The Impact Ranking</p>
      <main id="ranking">
        <div id="content">
          <div class="content1">
            <p id="year">2022년</p>
            <p id="score">736점</p>
          </div>
          <div id="graph">
            <svg id="myGraph"></svg>
            <script src="https://d3js.org/d3.v4.min.js"></script>
            <script src="JS/3graph.js" ></script>
          </div>
        </div>
        <div id="piechart">
          <script src="https://d3js.org/d3.v5.min.js"></script>
          <script>
            var width = 750, height = 500;
            var colors = d3.scaleOrdinal(d3.schemeCategory20);
            /* var colors = d3.scaleOrdinal(d3.schemeDark2); */
            var svg = d3.select("#piechart").append("svg")
                        .attr("width", width)
                        .attr("height", height)
/*                         .style("background", "pink"); */
            var details = [{keyword:"사람", number:"8"}, {keyword:"번영", number:"21"}, 
                           {keyword:"평화", number:"15"}, {keyword:"지구", number:"29"}, {keyword:"협력", number:"11"}];
            var data = d3.pie().sort(null).value(function(d) {return d.number;})(details);
            var segments = d3.arc()
                             .innerRadius(0)
                             .outerRadius(200)
                             .padAngle(.05)
                             .padRadius(50);
            var sections = svg.append("g")
                             .attr("transform", "translate(300, 250)")
                             .selectAll("path")
                             .data(data);
            sections.enter().append("path")
                            .attr("d", segments)
                            .attr("fill", function(d){ return colors(d.data.number);});
            
            var content = d3.select("g").selectAll("text").data(data);
            content.enter().append("text").classed("pie-inside", true).each(function(d) {
                var center = segments.centroid(d);
                d3.select(this).attr("x", center[0]).attr("y", center[1])
                               .text(d.data.number);
            });

            var legends = svg.append("g")
                             .attr("transform", "translate(580, 150)")
                             .selectAll(".legends").data(data);
            var legend = legends.enter().append("g").classed("legends", true)
                                .attr("transform", function(d,i) {return "translate(0," + (i+1)*30 + ")"});
            legend.append("rect").attr("width", 20).attr("height", 20).attr("fill", function(d) {return colors(d.data.number);});
            legend.append("text").classed("pielabel", true).text(function(d) {return d.data.keyword;})
                  .attr("fill", function(d) {return colors(d.data.number);})
                  .attr("x", 30)
                  .attr("y", 20);
          </script>
        </div>
      </main>
    </section>
    <article id="keyword-compare">
      <div class="key-graph">
        <p class="keyword">사람</p>
        <svg id="svg1"></svg>
        <script src="http://d3js.org/d3.v3.js"></script>
        <script>
          var data = [100, 30];
          var color = ['white', 'orange'];
  
          d3.select('#svg1')
            .selectAll('rect').data(data).enter()  
            .append('rect').attr('rx', 1)
            .attr('height', 20)
            .attr('y', (d, i) => 20)
            .attr('class', (d, i) => color[i])
/*             .attr('width', 10)
            .transition().duration(1500) */
            .attr('width', d => (d * 200)/100);
          </script>
      </div>
      <div class="key-graph">
        <p class="keyword">지구</p>
        <svg id="svg2"></svg>
        <script src="http://d3js.org/d3.v3.js"></script>
        <script>
          var data = [100, 70];
          var color = ['white', 'orange'];
  
          d3.select('#svg2')
            .selectAll('rect').data(data).enter()  
            .append('rect').attr('rx', 1)
            .attr('height', 20)
            .attr('y', (d, i) => 20)
            .attr('class', (d, i) => color[i])
/*             .attr('width', 10)
            .transition().duration(1500) */
            .attr('width', d => (d * 200)/100);
          </script>
      </div>
      <div class="key-graph">
        <p class="keyword">번영</p>
        <svg id="svg3"></svg>
        <script src="http://d3js.org/d3.v3.js"></script>
        <script>
          var data = [100, 60];
          var color = ['white', 'orange'];
  
          d3.select('#svg3')
            .selectAll('rect').data(data).enter()  
            .append('rect').attr('rx', 1)
            .attr('height', 20)
            .attr('y', (d, i) => 20)
            .attr('class', (d, i) => color[i])
/*             .attr('width', 10)
            .transition().duration(1500) */
            .attr('width', d => (d * 200)/100);
          </script>
      </div>
      <div class="key-graph">
        <p class="keyword">평화</p>
        <svg id="svg4"></svg>
        <script src="http://d3js.org/d3.v3.js"></script>
        <script>
          var data = [100, 20];
          var color = ['white', 'orange'];
  
          d3.select('#svg4')
            .selectAll('rect').data(data).enter()  
            .append('rect').attr('rx', 1)
            .attr('height', 20)
            .attr('y', (d, i) => 20)
            .attr('class', (d, i) => color[i])
/*             .attr('width', 10)
            .transition().duration(1500) */
            .attr('width', d => (d * 200)/100);
          </script>
      </div>
      <div class="key-graph">
        <p class="keyword">협력</p>
        <svg id="svg5"></svg>
        <script src="http://d3js.org/d3.v3.js"></script>
        <script>
          var data = [100, 50];
          var color = ['white', 'orange'];
  
          d3.select('#svg5')
            .selectAll('rect').data(data).enter()  
            .append('rect').attr('rx', 1)
            .attr('height', 20)
            .attr('y', (d, i) => 20)
            .attr('class', (d, i) => color[i])
/*             .attr('width', 10)
            .transition().duration(1500) */
            .attr('width', d => (d * 200)/100);
          </script>
      </div>
    </article>
    <footer id="text">
      <div class="last">
        <p>한국 대학 그래프</p>
        <svg id="myGraph1"></svg>
        <script src="JS/KUNI.js"></script>
      </div>
      <div class="last">
        <P>해외 대학 그래프</P>
        <svg id="myGraph2"></svg>
        <script src="JS/BUNI.js"></script>
      </div>
      <p class="last active">해외 대학 활동sdjlkjfl;asjflsdfjasdfjlsdjflsjdfljsdlfjldsfjlskdjflksjdkkkdkdkkdkdkdkdkkdkdkkdfsdfsd sdsfsdj ldjflsdf lksdjfldjfk</p>
    </footer>

  </body>
</html>
